# receivingBarangServices
**http://<host>[:port]/procurement/web/recv/{sort}/{token}**
----

**GET** 
----
  Returns all Receiving Headers (receiving-h) in the system, sorted DESCENDING by tgl-karcis by default (newer receiving will  be at the top of the list). 
  If sort is "ASC", sorts data ASCENDING by tgl-karcis (old receiving at the top of the list).
* **URL Params**  
  *Required:* `token=[string]`
  *Required:* `sort=[string]`
* **Data Params**  
  None
* **Headers**  
  Content-Type: application/json
* **Success Response:**  
* **Code:** 200  
  **Content:**  
```
{
    [
        {<receiving-h object>},
        {<receiving-h object>},
        {<receiving-h object>},
        ....
    ]
}
```

* **Error Response:**  
  * **Code:** 404  
  **Content:** `{ error : "Unauthorized" }`  
  OR  
  * **Code:** 401  
  **Content:** `{ error : "Unauthorized" }`  
  OR 
  * **Code:** 503  
  **Content:** `{ error : "Database not connected" }`  

**POST** 
----
Creates new receiving header with details, returns success message.
No karcis is automatically generated by increment counter and ignores the no_karcis variable set in body.
Sort parameter does not affect this API call.


* **URL Params**  
  *Required:* `token=[string]`
  *Required:* `sort=[string]`
* **Data Params**  
```
    {
      "items": 
      [
        {
          "no_po": String,
          "kd_barang" : String,
          "qty": Float,
        },
        {
          "no_po": String,
          "kd_barang" : String,
          "qty": Float,
        },
        {
          ......
        },
        {
          "no_po": String,
          "kd_barang" : String,
          "qty": Float,
        }
      ]
}
```
* **Headers**  
  Content-Type: application/json
* **Success Response:**  
* **Code:** 200  
  **Content:**  
```
{
	"message": "receiving note created successfully!"
}
```

* **Error Response:**  
  * **Code:** 404  
  **Content:** `{ error : "Unauthorized" }`  
  OR  
  * **Code:** 401  
  **Content:** `{ error : "Unauthorized" }`  
  OR 
  * **Code:** 503  
  **Content:** `{ error : "Database not connected" }`  

----
----

# getReceivingDetailServices
**http://<host>[:port]/procurement/web/receiving/{nokarcis}/{token}**
----
**GET** 
----
  Returns Receiving header and detail based on the nokarcis parameter.
* **URL Params**  
  *Required:* `token=[string]`
  *Required:* `nokarcis=[string] (unique)`
* **Data Params**  
  None
* **Headers**  
  Content-Type: application/json
* **Success Response:**  
* **Code:** 200   
  **Content:**  
```
{
    [
        {<receiving-h and receiving-d object>}
    ]
}
```

* **Error Response:**  
  * **Code:** 404  
  **Content:** `{ error : "Unauthorized" }`  
  OR  
  * **Code:** 401  
  **Content:** `{ error : "Unauthorized" }`  
  OR 
  * **Code:** 503  
  **Content:** `{ error : "Database not connected" }`  

----
----
# putReceivingServices (!!!DEBUG ONLY!!!)
**http://<host>[:port]/procurement/web/updatereceiving/{nokarcis}/{token}**
**PUT** 
  ----
  Updates Receiving-Detail fields on the specified nokarcis Header.
  Can only change the 'qty' field on receiving-d of the specified nokarcis.
* **URL Params**  
  *Required:* `token=[string]`
  *Required:* `nokarcis=[string] (unique)`
* **Data Params**  
    {
      "items": [
				{
					"qty": Float
				}
			]
}
* **Headers**  
  Content-Type: application/json
* **Success Response:**  
* **Code:** 200  
  **Content:**  
```
{
	"message": "Receiving Quantity Revised successfully!"
}
```

* **Error Response:**  
  * **Code:** 404  
  **Content:** `{ error : "Unauthorized" }`  
  OR  
  * **Code:** 401  
  **Content:** `{ error : "Unauthorized" }`  
  OR 
  * **Code:** 503  
  **Content:** `{ error : "Database not connected" }`  
----
----
# getPOService
**http://<host>[:port]/procurement/web/getpo/{token}**
----
**GET** 
----
  Returns all PO Headers (po-h) in the system
* **URL Params**  
  *Required:* `token=[string]`
* **Data Params**  
  None
* **Headers**  
  Content-Type: application/json
* **Success Response:**  
* **Code:** 200  
  **Content:**  
```
{
    [
        {<po-h object>},
        {<po-h object>},
        {<po-h object>},
        ....
    ]
}
```

* **Error Response:**  
  * **Code:** 404  
  **Content:** `{ error : "Unauthorized" }`  
  OR  
  * **Code:** 401  
  **Content:** `{ error : "Unauthorized" }`  
  OR 
  * **Code:** 503  
  **Content:** `{ error : "Database not connected" }`  

----
----
# getPODetailServices
**http://<host>[:port]/procurement/web/getpodetail/{pono}/{token}**
----

**GET** 
----
  Returns PO header and PO detail based on the pono parameter.
* **URL Params**  
  *Required:* `token=[string]`
  *Required:* `pono=[string] (unique)`
* **Data Params**  
  None
* **Headers**  
  Content-Type: application/json
* **Success Response:**  
* **Code:** 200  
  **Content:**  
```
{
    [
        {<po-h and po-d object>}
    ]
}
```

* **Error Response:**  
  * **Code:** 404  
  **Content:** `{ error : "Unauthorized" }`  
  OR  
  * **Code:** 401  
  **Content:** `{ error : "Unauthorized" }`  
  OR 
  * **Code:** 503  
  **Content:** `{ error : "Database not connected" }`  

